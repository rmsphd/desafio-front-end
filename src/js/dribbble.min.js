angular.module("dribbbleApp",["ngRoute","infinite-scroll","afkl.lazyImage"]).config(function($routeProvider,$locationProvider){$routeProvider.when("/index.html",{templateUrl:"templates/list.html",controller:"PostListController as postList"}).when("/item.html",{templateUrl:"templates/item.html",controller:"ItemController as item"}),$locationProvider.html5Mode({enabled:!0})}).controller("PostListController",function($http,$location){var postList=this;postList.busy=!1,postList.page=0,postList.posts=[],postList.go=function(path){$location.path("item.html").search("id="+path)},postList.nextPage=function(){postList.busy||(postList.busy=!0,postList.page++,postList.page>postList.maxpage||$http.jsonp("https://api.dribbble.com/shots/popular?page="+postList.page+"&callback=JSON_CALLBACK",{cache:!0}).success(function(data){postList.maxpage=data.pages;for(var i=0;i<data.shots.length;i++)postList.posts.push(data.shots[i]);postList.busy=!1}))}}).controller("ItemController",function($routeParams,$http){var item=this;item.busy||(item.busy=!0,$http.jsonp("https://api.dribbble.com/shots/"+$routeParams.id+"?callback=JSON_CALLBACK",{cache:!0}).success(function(data){item.post=data,document.getElementById("description").innerHTML=item.post.description,item.busy=!1}))});